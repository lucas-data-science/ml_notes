<!doctype html>
<html class="no-js" lang="pt-BR" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Índice" href="../genindex.html" /><link rel="search" title="Buscar" href="../search.html" /><link rel="next" title="8. Fundamentos de Machine Learning" href="../notebooks/ML_intro.html" /><link rel="prev" title="4. Distribuições de Dados" href="Distribuicoes_de_Dados.html" />

    <link rel="shortcut icon" href="../_static/flav4.png"/><!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>5. Testes de Hipóteses e Inferência Estatística - Ciência de Dados</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/estilo.css?v=6d8328f8" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../intro.html"><div class="brand">Ciência de Dados</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../intro.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo1.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Ciência de Dados</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Buscar" name="q" aria-label="Buscar">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Parte I. Elementos de Estatística e Análise Exploratória de Dados</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introducao_parte_1.html">1. Sobre a Parte I</a></li>
<li class="toctree-l1"><a class="reference internal" href="Analise_Exploratoria.html">2. Análise Exploratória de Dados (AED)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Amostragem.html">3. Amostragem</a></li>
<li class="toctree-l1"><a class="reference internal" href="Distribuicoes_de_Dados.html">4. Distribuições de Dados</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">5. Testes de Hipóteses e Inferência Estatística</a></li>
<li class="toctree-l1"><a class="reference internal" href="#intervalos-de-confianca-e-classificacao">6. Intervalos de Confiança e Classificação</a></li>
<li class="toctree-l1"><a class="reference internal" href="#teste-de-hipotese">7. Teste de Hipótese</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Parte II. Machine Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/ML_intro.html">8. Fundamentos de Machine Learning</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Parte III. Aprendizado por Reforço para Finanças</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/FDRNN_resumo.html">9. Fonte e Resumo do Estudo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/FDRNN_intro.html">10. Introdução</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/FDRNN_iiiA_direct_reforcement_trading.html">11. Direct Deep Reinforcement Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/FDRNN_iiiB_RNN_for_DPP.html">12. Rede Neural Recorrente Profunda para DDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/FDRNN_iiiC_fuzzy.html">13. Extensões Fuzzy para Reduzir Incertezas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/FDRNN_ivA_system_initializations.html">14. DRNN LEARNING</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/FDRNN_ivB_task-aware_BPTT.html">15. Task-Aware BPTT (Retropropagação no Tempo Sensível à Tarefa)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Parte Final</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bib.html">Referências</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/notebooks_estatistica/Teste_Hipotese.ipynb" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="testes-de-hipoteses-e-inferencia-estatistica">
<h1><span class="section-number">5. </span>Testes de Hipóteses e Inferência Estatística<a class="headerlink" href="#testes-de-hipoteses-e-inferencia-estatistica" title="Link para este cabeçalho">¶</a></h1>
<p>Na parte sobre distribuições vimos vários tipos de distribuições para vários tipos de dados e também com calcular a probailidade associada a algumas distribuições.</p>
<p>Agora vamos fazer alguns exercícios que consistem em testar hipóteses.<br />
Experimentos desse tipo estão presente em estatística aplicada a áreas diversas como medicina, economia, engenharia, ciências sociais e, especialmente, ciência de dados. O objetivo é claro: construir experimentos capazes de <strong>confirmar ou rejeitar uma hipótese</strong>, com base em evidências empíricas.</p>
<p>No contexto da ciência de dados, essa necessidade se manifesta frequentemente em situações como <strong>testes A/B</strong>, <strong>otimização de interfaces de usuário</strong>, <strong>campanhas de marketing</strong>, <strong>modelagem de conversão</strong> e muitas outras aplicações práticas. Nesses cenários, somos confrontados com perguntas do tipo:</p>
<ul class="simple">
<li><p>“Essa nova funcionalidade aumenta o engajamento dos usuários?”</p></li>
<li><p>“Esse modelo de precificação gera mais receita que o anterior?”</p></li>
<li><p>“Essa recomendação personalizada converte mais que o padrão?”</p></li>
</ul>
<p>Responder a essas perguntas exige mais do que observação casual: requer <strong>estrutura experimental, análise rigorosa e inferência estatística</strong>.</p>
<hr class="docutils" />
<div class="unnumbered-subsection">
<section id="a-cadeia-classica-da-inferencia-estatistica">
<h2><span class="section-number">5.1. </span>A Cadeia Clássica da Inferência Estatística<a class="headerlink" href="#a-cadeia-classica-da-inferencia-estatistica" title="Link para este cabeçalho">¶</a></h2>
</div>
<p>Sempre que você se deparar com termos como <strong>significância estatística</strong>, <strong>teste t</strong> ou <strong>valor p</strong>, eles estão inseridos em um processo estruturado, muitas vezes chamado de <strong>cadeia clássica da inferência estatística</strong>, que pode ser descrita nos seguintes passos:</p>
<ol class="arabic">
<li><p><strong>Formulação da Hipótese</strong><br />
Uma hipótese clara e testável é estabelecida. Por exemplo:</p>
<blockquote>
<div><p>“O modelo A gera maior taxa de conversão que o modelo B.”</p>
</div></blockquote>
</li>
<li><p><strong>Desenho do Experimento</strong><br />
Um experimento (muitas vezes randomizado) é planejado para <strong>testar essa hipótese</strong>, garantindo que os dados coletados serão confiáveis e permitirão conclusões robustas.</p></li>
<li><p><strong>Coleta e Análise de Dados</strong><br />
Os dados do experimento são coletados e analisados com ferramentas estatísticas apropriadas, como <strong>intervalos de confiança</strong>, <strong>testes t</strong>, <strong>testes de proporções</strong>, entre outros.</p></li>
<li><p><strong>Inferência e Conclusão</strong><br />
Com base nos resultados, tomamos decisões: <strong>rejeitar ou não a hipótese nula</strong>. A ideia é generalizar os achados do experimento para uma população ou contexto mais amplo.</p></li>
</ol>
<p>O termo <strong>inferência</strong> destaca justamente essa intenção de extrapolar o conhecimento obtido em uma <strong>amostra limitada de dados</strong> para inferir algo mais geral, com grau de confiança quantificado.</p>
<hr class="docutils" />
<div class="unnumbered-subsection">
</section>
<section id="intervalos-de-confianca-e-testes-de-hipoteses">
<h2><span class="section-number">5.2. </span>Intervalos de Confiança e Testes de Hipóteses<a class="headerlink" href="#intervalos-de-confianca-e-testes-de-hipoteses" title="Link para este cabeçalho">¶</a></h2>
</div>
<p>Uma das primeiras ferramentas utilizadas nesse processo são os <strong>intervalos de confiança</strong>. Eles fornecem uma estimativa de onde, com determinada confiança (por exemplo, 95%), está o parâmetro real da população (como uma média, proporção, ou diferença entre grupos). Esses intervalos ajudam a entender a <strong>precisão das estimativas</strong> e servem de base para decisões formais em testes de hipótese.</p>
<p>Por exemplo, se ao comparar duas versões de uma interface de usuário, o intervalo de confiança da diferença entre as taxas de conversão <strong>não contém zero</strong>, temos uma indicação de que <strong>existe uma diferença estatisticamente significativa</strong> entre as versões — o que pode motivar uma ação prática.</p>
<hr class="docutils" />
<p>Neste capítulo, vamos explorar os principais conceitos e métodos ligados à inferência estatística e aos testes de hipóteses, com foco em aplicações reais na ciência de dados. Entre os tópicos abordados, estão:</p>
<ul class="simple">
<li><p>Intervalos de confiança – cálculos passo a passo</p></li>
<li><p>Distribuição T Student</p></li>
<li><p>Intervalos de confiança e Classificação</p></li>
<li><p>Testes de hipóteses</p></li>
<li><p>Teste Z</p></li>
<li><p>Teste T</p></li>
<li><p>Qui quadrado</p></li>
<li><p>ANOVA</p></li>
<li><p>Qui quadrado e ANOVA para seleção de atributos</p></li>
<li><p>Testes de Wilcoxon, Friedman e Nemenyi</p></li>
<li><p>Aplicações para avaliação de algoritmos/trabalhos científicos</p></li>
</ul>
<p>Vamos construir esse conhecimento passo a passo, conectando a teoria estatística com a prática do dia a dia no desenvolvimento de produtos, experimentação e tomada de decisões baseadas em dados.</p>
</section>
<section id="intervalo-de-confianca">
<h2><span class="section-number">5.3. </span>Intervalo de Confiança<a class="headerlink" href="#intervalo-de-confianca" title="Link para este cabeçalho">¶</a></h2>
<p>Os intervalos de confiança são usados para estimar um parâmetro populacional com base em dados amostrais, fornecendo uma faixa dentro da qual o valor verdadeiro provavelmente se encontra.</p>
<hr class="docutils" />
<section id="ic-para-a-media-conhecido-distribuicao-normal">
<h3><span class="section-number">5.3.1. </span>IC para a Média (σ conhecido, distribuição Normal)<a class="headerlink" href="#ic-para-a-media-conhecido-distribuicao-normal" title="Link para este cabeçalho">¶</a></h3>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
IC = \bar{x} \pm z_{\alpha/2} \cdot \frac{\sigma}{\sqrt{n}}
\]</div>
</div>
<p>Onde:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\bar{x}\)</span> = média amostral</p></li>
<li><p><span class="math notranslate nohighlight">\(z_{\alpha/2}\)</span> = valor crítico da normal padrão  (z-score, tabelado)</p></li>
<li><p><span class="math notranslate nohighlight">\(\sigma\)</span> = desvio padrão populacional</p></li>
<li><p><span class="math notranslate nohighlight">\(n\)</span> = tamanho da amostra</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">norm</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">stats</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\lucas.souza\AppData\Local\Temp\ipykernel_15448\4205328392.py:2: UserWarning: A NumPy version &gt;=1.23.5 and &lt;2.3.0 is required for this version of SciPy (detected version 2.3.0)
  from scipy.stats import norm

A module that was compiled using NumPy 1.x cannot be run in
NumPy 2.3.0 as it may crash. To support both 1.x and 2.x
versions of NumPy, modules must be compiled with NumPy 2.0.
Some module may need to rebuild instead e.g. with &#39;pybind11&gt;=2.12&#39;.

If you are a user of the module, the easiest solution will be to
downgrade to &#39;numpy&lt;2&#39; or try to upgrade the affected module.
We expect that some modules will need time to support NumPy 2.

Traceback (most recent call last):  File &quot;&lt;frozen runpy&gt;&quot;, line 198, in _run_module_as_main
  File &quot;&lt;frozen runpy&gt;&quot;, line 88, in _run_code
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\ipykernel_launcher.py&quot;, line 17, in &lt;module&gt;
    app.launch_new_instance()
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\traitlets\config\application.py&quot;, line 992, in launch_instance
    app.start()
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\ipykernel\kernelapp.py&quot;, line 736, in start
    self.io_loop.start()
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\tornado\platform\asyncio.py&quot;, line 205, in start
    self.asyncio_loop.run_forever()
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\asyncio\base_events.py&quot;, line 607, in run_forever
    self._run_once()
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\asyncio\base_events.py&quot;, line 1922, in _run_once
    handle._run()
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\asyncio\events.py&quot;, line 80, in _run
    self._context.run(self._callback, *self._args)
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\ipykernel\kernelbase.py&quot;, line 516, in dispatch_queue
    await self.process_one()
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\ipykernel\kernelbase.py&quot;, line 505, in process_one
    await dispatch(*args)
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\ipykernel\kernelbase.py&quot;, line 412, in dispatch_shell
    await result
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\ipykernel\kernelbase.py&quot;, line 740, in execute_request
    reply_content = await reply_content
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\ipykernel\ipkernel.py&quot;, line 422, in do_execute
    res = shell.run_cell(
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\ipykernel\zmqshell.py&quot;, line 546, in run_cell
    return super().run_cell(*args, **kwargs)
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\IPython\core\interactiveshell.py&quot;, line 3024, in run_cell
    result = self._run_cell(
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\IPython\core\interactiveshell.py&quot;, line 3079, in _run_cell
    result = runner(coro)
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\IPython\core\async_helpers.py&quot;, line 129, in _pseudo_sync_runner
    coro.send(None)
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\IPython\core\interactiveshell.py&quot;, line 3284, in run_cell_async
    has_raised = await self.run_ast_nodes(code_ast.body, cell_name,
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\IPython\core\interactiveshell.py&quot;, line 3466, in run_ast_nodes
    if await self.run_code(code, result, async_=asy):
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\IPython\core\interactiveshell.py&quot;, line 3526, in run_code
    exec(code_obj, self.user_global_ns, self.user_ns)
  File &quot;C:\Users\lucas.souza\AppData\Local\Temp\ipykernel_15448\4205328392.py&quot;, line 4, in &lt;module&gt;
    import seaborn as sns
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\__init__.py&quot;, line 2, in &lt;module&gt;
    from .rcmod import *  # noqa: F401,F403
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\rcmod.py&quot;, line 5, in &lt;module&gt;
    from . import palettes
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\palettes.py&quot;, line 9, in &lt;module&gt;
    from .utils import desaturate, get_color_cycle
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\utils.py&quot;, line 11, in &lt;module&gt;
    import pandas as pd
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\__init__.py&quot;, line 62, in &lt;module&gt;
    from pandas.core.api import (
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\core\api.py&quot;, line 28, in &lt;module&gt;
    from pandas.core.arrays import Categorical
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\core\arrays\__init__.py&quot;, line 1, in &lt;module&gt;
    from pandas.core.arrays.arrow import ArrowExtensionArray
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\core\arrays\arrow\__init__.py&quot;, line 5, in &lt;module&gt;
    from pandas.core.arrays.arrow.array import ArrowExtensionArray
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\core\arrays\arrow\array.py&quot;, line 50, in &lt;module&gt;
    from pandas.core import (
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\core\ops\__init__.py&quot;, line 8, in &lt;module&gt;
    from pandas.core.ops.array_ops import (
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\core\ops\array_ops.py&quot;, line 56, in &lt;module&gt;
    from pandas.core.computation import expressions
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\core\computation\expressions.py&quot;, line 21, in &lt;module&gt;
    from pandas.core.computation.check import NUMEXPR_INSTALLED
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\core\computation\check.py&quot;, line 5, in &lt;module&gt;
    ne = import_optional_dependency(&quot;numexpr&quot;, errors=&quot;warn&quot;)
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\pandas\compat\_optional.py&quot;, line 135, in import_optional_dependency
    module = importlib.import_module(name)
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\importlib\__init__.py&quot;, line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File &quot;c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\numexpr\__init__.py&quot;, line 24, in &lt;module&gt;
    from numexpr.interpreter import MAX_THREADS, use_vml, __BLOCK_SIZE1__
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="ne">AttributeError</span>: _ARRAY_API not found
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># base de dados baseada em alturo de pessoas</span>
<span class="n">dados</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">126.</span> <span class="p">,</span> <span class="mf">129.5</span><span class="p">,</span> <span class="mf">133.</span> <span class="p">,</span> <span class="mf">133.</span> <span class="p">,</span> <span class="mf">136.5</span><span class="p">,</span> <span class="mf">136.5</span><span class="p">,</span> <span class="mf">140.</span> <span class="p">,</span> <span class="mf">140.</span> <span class="p">,</span> <span class="mf">140.</span> <span class="p">,</span>
                  <span class="mf">140.</span> <span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span>
                  <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span>
                  <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span>
                  <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span>
                  <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span>
                  <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span>
                  <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span>
                  <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span>
                  <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span>
                  <span class="mf">178.5</span><span class="p">,</span> <span class="mf">178.5</span><span class="p">,</span> <span class="mf">178.5</span><span class="p">,</span> <span class="mf">178.5</span><span class="p">,</span> <span class="mf">182.</span> <span class="p">,</span> <span class="mf">182.</span> <span class="p">,</span> <span class="mf">185.5</span><span class="p">,</span> <span class="mf">185.5</span><span class="p">,</span> <span class="mf">189.</span><span class="p">,</span> <span class="mf">192.5</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dados</span><span class="p">)</span>
<span class="n">n</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">media</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dados</span><span class="p">)</span>
<span class="n">media</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(159.25)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">desvio_padrao</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dados</span><span class="p">)</span>
<span class="n">desvio_padrao</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(13.65)
</pre></div>
</div>
</div>
</div>
</section>
<section id="calculo-manual-do-intervalo-de-confianca">
<h3><span class="section-number">5.3.2. </span>Cálculo manual do Intervalo de Confiança<a class="headerlink" href="#calculo-manual-do-intervalo-de-confianca" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span> <span class="o">/</span> <span class="mi">2</span>    <span class="c1"># alpha referente a 95%, dividindo alpha por 2 para o teste bicaudal</span>
<span class="n">alpha</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">alpha</span>   <span class="c1"># valor crítico para o teste bicaudal</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.025, 0.975)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">)</span> <span class="c1"># valor crítico z para o teste bicaudal</span>
<span class="n">z</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(1.959963984540054)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_inferior</span> <span class="o">=</span> <span class="n">media</span> <span class="o">-</span> <span class="n">z</span> <span class="o">*</span> <span class="p">(</span><span class="n">desvio_padrao</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">x_inferior</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(156.57464916110283)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_superior</span> <span class="o">=</span> <span class="n">media</span> <span class="o">+</span> <span class="n">z</span> <span class="o">*</span> <span class="p">(</span><span class="n">desvio_padrao</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="n">x_superior</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(161.92535083889717)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margem_erro</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">media</span> <span class="o">-</span> <span class="n">x_superior</span><span class="p">)</span>
<span class="n">margem_erro</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(2.675350838897174)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">dados</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
</pre></div>
</div>
<img alt="../_images/d0a4204a266a0e018c70e4fd0d33b95d6cc90b705f3826f932a9c60334e142e3.png" src="../_images/d0a4204a266a0e018c70e4fd0d33b95d6cc90b705f3826f932a9c60334e142e3.png" />
</div>
</div>
</section>
<section id="calculo-do-intervalo-de-confianca-com-scipy">
<h3><span class="section-number">5.3.3. </span>Cálculo do intervalo de confiança com Scipy<a class="headerlink" href="#calculo-do-intervalo-de-confianca-com-scipy" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">dados</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(1.3718766178288244)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">desvio_padrao</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(1.3718766178288246)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">intervalos</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">media</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">dados</span><span class="p">))</span>
<span class="n">intervalos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(np.float64(156.5611712378229), np.float64(161.9388287621771))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margem_erro</span> <span class="o">=</span> <span class="n">media</span> <span class="o">-</span> <span class="n">intervalos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">margem_erro</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(2.68882876217711)
</pre></div>
</div>
</div>
</div>
</section>
<section id="diferentes-niveis-de-confianca">
<h3><span class="section-number">5.3.4. </span>Diferentes níveis de confiança<a class="headerlink" href="#diferentes-niveis-de-confianca" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">nivel_conf</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">]:</span>
    <span class="n">intervalo</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="n">nivel_conf</span><span class="p">,</span> <span class="n">media</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">dados</span><span class="p">))</span>
    <span class="n">margem_erro</span> <span class="o">=</span> <span class="n">media</span> <span class="o">-</span> <span class="n">intervalo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Intervalo de confiança </span><span class="si">{</span><span class="n">nivel_conf</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">intervalo</span><span class="si">}</span><span class="s2">, Margem de erro: </span><span class="si">{</span><span class="n">margem_erro</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Intervalo de confiança 0.8: (np.float64(157.49186937268743), np.float64(161.00813062731257)), Margem de erro: 1.7581306273125676
Intervalo de confiança 0.85: (np.float64(157.2751404343908), np.float64(161.2248595656092)), Margem de erro: 1.9748595656091936
Intervalo de confiança 0.9: (np.float64(156.99346376943433), np.float64(161.50653623056567)), Margem de erro: 2.256536230565672
Intervalo de confiança 0.95: (np.float64(156.5611712378229), np.float64(161.9388287621771)), Margem de erro: 2.68882876217711
Intervalo de confiança 0.99: (np.float64(155.71628000694295), np.float64(162.78371999305705)), Margem de erro: 3.5337199930570478
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercicio">
<h3><span class="section-number">5.3.5. </span>Exercicio<a class="headerlink" href="#exercicio" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dados_salario</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">82.1191</span><span class="p">,</span> <span class="mf">72.8014</span><span class="p">,</span> <span class="mf">79.1266</span><span class="p">,</span> <span class="mf">71.3552</span><span class="p">,</span> <span class="mf">59.192</span> <span class="p">,</span> <span class="mf">79.1952</span><span class="p">,</span> <span class="mf">56.518</span> <span class="p">,</span>
                          <span class="mf">70.3752</span><span class="p">,</span> <span class="mf">73.5364</span><span class="p">,</span> <span class="mf">61.0407</span><span class="p">,</span> <span class="mf">64.3902</span><span class="p">,</span> <span class="mf">66.4076</span><span class="p">,</span> <span class="mf">63.5215</span><span class="p">,</span> <span class="mf">71.9936</span><span class="p">,</span>
                          <span class="mf">60.1489</span><span class="p">,</span> <span class="mf">78.5932</span><span class="p">,</span> <span class="mf">76.0459</span><span class="p">,</span> <span class="mf">67.7726</span><span class="p">,</span> <span class="mf">64.6149</span><span class="p">,</span> <span class="mf">80.1948</span><span class="p">,</span> <span class="mf">76.7998</span><span class="p">,</span>
                          <span class="mf">76.1831</span><span class="p">,</span> <span class="mf">80.7065</span><span class="p">,</span> <span class="mf">62.4953</span><span class="p">,</span> <span class="mf">57.204</span> <span class="p">,</span> <span class="mf">62.5408</span><span class="p">,</span> <span class="mf">80.0982</span><span class="p">,</span> <span class="mf">63.287</span> <span class="p">,</span>
                          <span class="mf">66.5826</span><span class="p">,</span> <span class="mf">79.3674</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">media</span> <span class="o">=</span> <span class="n">dados_salario</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">media</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(70.14025666666666)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">intervalos</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">media</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">dados_salario</span><span class="p">))</span>
<span class="n">intervalos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(np.float64(67.26506308375339), np.float64(73.01545024957993))
</pre></div>
</div>
</div>
</div>
<p>Temos 95% de confiança de que a média salarial das pessoas está
no intervalo entre 67.26 e 73.01</p>
</section>
</section>
<section id="intervalos-de-confianca-com-distribuicao-t-student">
<h2><span class="section-number">5.4. </span>Intervalos de confiança com Distribuição T Student<a class="headerlink" href="#intervalos-de-confianca-com-distribuicao-t-student" title="Link para este cabeçalho">¶</a></h2>
<p>Lembrando que a T Stdent é adequada para amostras pequenas (n &lt; 30) ou quando a variância da população é desconhecida.</p>
<section id="ic-para-a-media-desconhecido-distribuicao-t-student">
<h3><span class="section-number">5.4.1. </span>IC para a Média (σ desconhecido, Distribuição T Student)<a class="headerlink" href="#ic-para-a-media-desconhecido-distribuicao-t-student" title="Link para este cabeçalho">¶</a></h3>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
IC = \bar{x} \pm t_{\alpha/2, \, n-1} \cdot \frac{s}{\sqrt{n}}
\]</div>
</div>
<p>Onde:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(s\)</span> = desvio padrão amostral</p></li>
<li><p><span class="math notranslate nohighlight">\(t_{\alpha/2, \, n-1}\)</span> = valor crítico da distribuição T com <span class="math notranslate nohighlight">\(n-1\)</span> graus de liberdade</p></li>
<li><p><span class="math notranslate nohighlight">\(n\)</span> = tamanho da amostra</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># incuir figura png do diretorio</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.image</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpimg</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;t-student.png&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x28ed9afef50&gt;
</pre></div>
</div>
<img alt="../_images/e39ccd9ea61da74b9ea7e6754d0bb2bd297ed563786aae5b8f99ea3fd294e1f6.png" src="../_images/e39ccd9ea61da74b9ea7e6754d0bb2bd297ed563786aae5b8f99ea3fd294e1f6.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dados</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">149.</span> <span class="p">,</span> <span class="mf">160.</span><span class="p">,</span> <span class="mf">147.</span><span class="p">,</span> <span class="mf">189.</span><span class="p">,</span> <span class="mf">175.</span><span class="p">,</span> <span class="mf">168.</span><span class="p">,</span> <span class="mf">156.</span><span class="p">,</span> <span class="mf">160.</span><span class="p">,</span> <span class="mf">152.</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dados</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;n: </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">media</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dados</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Média: </span><span class="si">{</span><span class="n">media</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">desvio_padrao</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dados</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Desvio Padrão: </span><span class="si">{</span><span class="n">desvio_padrao</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>n: 9
Média: 161.77777777777777
Desvio Padrão: 12.786953227391823
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">t</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># calcular o valor crítico t para um nível de confiança de 95% e n-1 graus de liberdade</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span> <span class="o">/</span> <span class="mi">2</span>  <span class="c1"># alpha para teste bicaudal</span>
<span class="n">intervalos</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">media</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">dados</span><span class="p">,</span> <span class="n">ddof</span> <span class="o">=</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Intervalos de confiança: </span><span class="si">{</span><span class="n">intervalos</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">margem_erro</span> <span class="o">=</span> <span class="n">media</span> <span class="o">-</span> <span class="n">intervalos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Margem de erro: </span><span class="si">{</span><span class="n">margem_erro</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Intervalos de confiança: (np.float64(151.94885543810184), np.float64(171.6067001174537))
Margem de erro: 9.828922339675927
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="intervalos-de-confianca-e-classificacao">
<h1><span class="section-number">6. </span>Intervalos de Confiança e Classificação<a class="headerlink" href="#intervalos-de-confianca-e-classificacao" title="Link para este cabeçalho">¶</a></h1>
<p>Predição de pagamento de empréstimo.</p>
<p>O código abaixo realiza um experimento de comparação entre três algoritmos de classificação — <strong>Naive Bayes</strong>, <strong>Regressão Logística</strong> e <strong>Random Forest</strong> — usando validação cruzada repetida.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">cross_val_score</span><span class="p">,</span> <span class="n">KFold</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/credit_data.csv&#39;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">resultados_naive_bayes_cv</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">resultados_naive_bayes_cv_300</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">resultados_logistica_cv</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">resultados_logistica_cv_300</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">resultados_forest_cv</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">resultados_forest_cv_300</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
  <span class="n">kfold</span> <span class="o">=</span> <span class="n">KFold</span><span class="p">(</span><span class="n">n_splits</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">shuffle</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span> <span class="o">=</span> <span class="n">i</span><span class="p">)</span>
  
  <span class="n">naive_bayes</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
  <span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">naive_bayes</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span> <span class="o">=</span> <span class="n">kfold</span><span class="p">)</span>
  <span class="n">resultados_naive_bayes_cv_300</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>
  <span class="n">resultados_naive_bayes_cv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

  <span class="n">logistica</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">()</span>
  <span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">logistica</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span> <span class="o">=</span> <span class="n">kfold</span><span class="p">)</span>
  <span class="n">resultados_logistica_cv_300</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>
  <span class="n">resultados_logistica_cv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
  
  <span class="n">random_forest</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">()</span>
  <span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">random_forest</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span> <span class="o">=</span> <span class="n">kfold</span><span class="p">)</span>
  <span class="n">resultados_forest_cv_300</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>
  <span class="n">resultados_forest_cv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="n">resultados_naive_bayes_cv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">resultados_naive_bayes_cv</span><span class="p">)</span>
<span class="n">resultados_naive_bayes_cv_300</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">resultados_naive_bayes_cv_300</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="n">resultados_logistica_cv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">)</span>
<span class="n">resultados_logistica_cv_300</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">resultados_logistica_cv_300</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="n">resultados_forest_cv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="p">)</span>
<span class="n">resultados_forest_cv_300</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">resultados_forest_cv_300</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plotar as distribuicoes</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Naive Bayes&#39;</span><span class="p">,</span> <span class="s1">&#39;Logística&#39;</span><span class="p">,</span> <span class="s1">&#39;Random Forest&#39;</span><span class="p">]</span>
<span class="n">dists</span> <span class="o">=</span> <span class="p">[</span><span class="n">resultados_naive_bayes_cv</span><span class="p">,</span> <span class="n">resultados_logistica_cv</span><span class="p">,</span> <span class="n">resultados_forest_cv</span><span class="p">]</span>
<span class="k">for</span> <span class="n">dist</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">dists</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distribuição de Acurácia - </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
</pre></div>
</div>
<img alt="../_images/31b6271280475fd3805e13640588743f4f77fd8152707fdf48bb592488247be6.png" src="../_images/31b6271280475fd3805e13640588743f4f77fd8152707fdf48bb592488247be6.png" />
<img alt="../_images/f14f5172037f386236032951de02906b0b69e92f566db2b8d2845b7fa6fd1bd2.png" src="../_images/f14f5172037f386236032951de02906b0b69e92f566db2b8d2845b7fa6fd1bd2.png" />
<img alt="../_images/2a5b33124142cf5a96b610c5ff24beb54c6315318c96daef7c4ac587d1e9cf43.png" src="../_images/2a5b33124142cf5a96b610c5ff24beb54c6315318c96daef7c4ac587d1e9cf43.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resultados_naive_bayes_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">resultados_logistica_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">resultados_forest_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(np.float64(0.9249359296482411),
 np.float64(0.9448667504187604),
 np.float64(0.9869304857621441))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stats</span><span class="o">.</span><span class="n">variation</span><span class="p">(</span><span class="n">resultados_naive_bayes_cv</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">variation</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="n">stats</span><span class="o">.</span><span class="n">variation</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(np.float64(0.08641071566366061),
 np.float64(0.10802610833013937),
 np.float64(0.14125036072756086))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plotar as distribuições 300</span>
<span class="k">for</span> <span class="n">dist</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="n">resultados_naive_bayes_cv_300</span><span class="p">,</span> <span class="n">resultados_logistica_cv_300</span><span class="p">,</span> <span class="n">resultados_forest_cv_300</span><span class="p">],</span> <span class="n">labels</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distribuição de Acurácia - </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s1"> (300 iterações)&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
</pre></div>
</div>
<img alt="../_images/4203e72bc7d2d719ec0b1767761ecafe22463aa0783263d58b5508d00f0784da.png" src="../_images/4203e72bc7d2d719ec0b1767761ecafe22463aa0783263d58b5508d00f0784da.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
</pre></div>
</div>
<img alt="../_images/fa040d67f9f7232e4c637db1248f686de3eb38b93331e10e96eabea23bab42c1.png" src="../_images/fa040d67f9f7232e4c637db1248f686de3eb38b93331e10e96eabea23bab42c1.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
</pre></div>
</div>
<img alt="../_images/3e7d0beb93d553ab9921d23194a39eda849e0eccb5aa8e2c971c0eb1c271a206.png" src="../_images/3e7d0beb93d553ab9921d23194a39eda849e0eccb5aa8e2c971c0eb1c271a206.png" />
</div>
</div>
<section id="intervalos-de-confianca-para-distribuicoes-normal-e-t">
<h2><span class="section-number">6.1. </span>Intervalos de confiança para distribuições normal e T<a class="headerlink" href="#intervalos-de-confianca-para-distribuicoes-normal-e-t" title="Link para este cabeçalho">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">t</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">norm</span>
</pre></div>
</div>
</div>
</div>
<section id="neive-bayes">
<h3><span class="section-number">6.1.1. </span>Neïve Bayes<a class="headerlink" href="#neive-bayes" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">intervalos_naive_bayes_t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">resultados_naive_bayes_cv</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> 
                                    <span class="n">resultados_naive_bayes_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> 
                                    <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">resultados_naive_bayes_cv</span><span class="p">,</span> <span class="n">ddof</span> <span class="o">=</span> <span class="mi">0</span><span class="p">))</span>

<span class="nb">abs</span><span class="p">(</span><span class="n">resultados_naive_bayes_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">intervalos_naive_bayes_t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.0002984425233454324)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">intervalos_naive_bayes_n</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">resultados_naive_bayes_cv_300</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> 
                                         <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">resultados_naive_bayes_cv_300</span><span class="p">))</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">resultados_naive_bayes_cv_300</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">intervalos_naive_bayes_n</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.0020025402837702266)
</pre></div>
</div>
</div>
</div>
</section>
<section id="regressao-logistica">
<h3><span class="section-number">6.1.2. </span>Regressão Logística<a class="headerlink" href="#regressao-logistica" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">intervalos_logistica_t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> 
                                    <span class="n">resultados_logistica_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> 
                                    <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">,</span> <span class="n">ddof</span> <span class="o">=</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">intervalos_logistica_t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.00038113668162764736)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">intervalos_logistica_n</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">resultados_logistica_cv_300</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> 
                                       <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">resultados_logistica_cv_300</span><span class="p">))</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">resultados_logistica_cv_300</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">intervalos_logistica_n</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.0017353547478814457)
</pre></div>
</div>
</div>
</div>
</section>
<section id="random-forest">
<h3><span class="section-number">6.1.3. </span>Random Forest<a class="headerlink" href="#random-forest" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">intervalos_forest_t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> 
                                 <span class="n">resultados_forest_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>   
                                    <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="p">,</span> <span class="n">ddof</span> <span class="o">=</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">abs</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">intervalos_forest_t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.0005205441630358187)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inervalos_forest_n</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">resultados_forest_cv_300</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> 
                                   <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">resultados_forest_cv_300</span><span class="p">))</span> 
<span class="nb">abs</span><span class="p">(</span><span class="n">resultados_forest_cv_300</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">inervalos_forest_n</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(0.0008554464954150243)
</pre></div>
</div>
</div>
</div>
<p>Temos 95% de confiança de que a média de acertos do Random Forest está
no intervalo entre 98,63% e 98,74% - 98,59% e 98,77%</p>
</section>
</section>
</section>
<section id="teste-de-hipotese">
<h1><span class="section-number">7. </span>Teste de Hipótese<a class="headerlink" href="#teste-de-hipotese" title="Link para este cabeçalho">¶</a></h1>
<p>Vimos que eles fornecem uma estimativa de onde, com determinada confiança (por exemplo, 95%), está o parâmetro real da população (como uma média, proporção, ou diferença entre grupos). Esses intervalos ajudam a entender a precisão das estimativas e servem de base para decisões formais em testes de hipótese.</p>
<p>Por exemplo, se ao comparar duas versões de uma interface de usuário, o intervalo de confiança da diferença entre as taxas de conversão não contém zero, temos uma indicação de que existe uma diferença estatisticamente significativa entre as versões — o que pode motivar uma ação prática.</p>
<p>Nível de Significância, Valor p e Tipos de Erro</p>
<p>Nos testes de hipóteses, buscamos avaliar a probabilidade de rejeitar a hipótese nula com base nos dados amostrais. Essa probabilidade está diretamente relacionada ao valor p (p-valor), que indica a força da evidência contra a hipótese nula.</p>
<p>Quanto menor o valor p, mais forte é a evidência contra a hipótese nula.</p>
<p>Um valor p menor que o nível de significância α (por exemplo, 0,05) indica que rejeitamos a hipótese nula.</p>
<p>Os níveis de significância são interpretados da seguinte forma:</p>
<p><span class="math notranslate nohighlight">\(\alpha = 0{,}05\)</span> → evidência moderada contra <span class="math notranslate nohighlight">\(H_0\)</span></p>
<p><span class="math notranslate nohighlight">\(\alpha = 0{,}01\)</span> → evidência forte contra <span class="math notranslate nohighlight">\(H_0\)</span></p>
<p><span class="math notranslate nohighlight">\(\alpha = 0{,}001\)</span> → evidência muito forte contra <span class="math notranslate nohighlight">\(H_0\)</span></p>
<p>Por exemplo, um teste com <span class="math notranslate nohighlight">\(\alpha = 0{,}05\)</span> significa que estamos dispostos a aceitar uma chance de 5% de rejeitar a hipótese nula quando ela for verdadeira, ou seja, cometer um erro do tipo I.</p>
<p>Tipos de Erro</p>
<p>Erro Tipo I (falso positivo): Rejeitar a hipótese nula quando ela é verdadeira.Ex: Concluir que um novo modelo é melhor, quando na verdade não é.</p>
<p>Erro Tipo II (falso negativo): Não rejeitar a hipótese nula quando ela é falsa.Ex: Deixar de adotar uma melhoria real por não detectar seu efeito.</p>
<p>A escolha do nível de significância afeta diretamente o risco de cometer erros, sendo uma etapa essencial na construção de inferências estatísticas confiáveis.</p>
<p>Neste capítulo, vamos explorar os principais conceitos e métodos ligados à inferência estatística e aos testes de hipóteses, com foco em aplicações reais na ciência de dados. Entre os tópicos abordados, estão:</p>
<p>Hipóteses nula e alternativa</p>
<p>Nível de significância e erro tipo I e II</p>
<p>Valor p e sua interpretação correta</p>
<p>Intervalos de confiança e sua relação com os testes</p>
<p>Testes t, z e testes para proporções</p>
<p>Considerações práticas em testes A/B</p>
<p>Desafios e armadilhas comuns na inferência estatística</p>
<p>Vamos construir esse conhecimento passo a passo, conectando a teoria estatística com a prática do dia a dia no desenvolvimento de produtos, experimentação e tomada de decisões baseadas em dados.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dados_originais</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">126.</span> <span class="p">,</span> <span class="mf">129.5</span><span class="p">,</span> <span class="mf">133.</span> <span class="p">,</span> <span class="mf">133.</span> <span class="p">,</span> <span class="mf">136.5</span><span class="p">,</span> <span class="mf">136.5</span><span class="p">,</span> <span class="mf">140.</span> <span class="p">,</span> <span class="mf">140.</span> <span class="p">,</span> <span class="mf">140.</span> <span class="p">,</span>
                            <span class="mf">140.</span> <span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">143.5</span><span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span>
                            <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">147.</span> <span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span>
                            <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span>
                            <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">154.</span> <span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span>
                            <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">157.5</span><span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span>
                            <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">161.</span> <span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span>
                            <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">164.5</span><span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span>
                            <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">168.</span> <span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span>
                            <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">171.5</span><span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span> <span class="mf">175.</span> <span class="p">,</span>
                            <span class="mf">178.5</span><span class="p">,</span> <span class="mf">178.5</span><span class="p">,</span> <span class="mf">178.5</span><span class="p">,</span> <span class="mf">178.5</span><span class="p">,</span> <span class="mf">182.</span> <span class="p">,</span> <span class="mf">182.</span> <span class="p">,</span> <span class="mf">185.5</span><span class="p">,</span> <span class="mf">185.5</span><span class="p">,</span> <span class="mf">189.</span><span class="p">,</span> <span class="mf">192.5</span><span class="p">])</span>
<span class="n">H0_media</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dados_originais</span><span class="p">)</span>
<span class="n">H0_desvio_padrao</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dados_originais</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;H0 é a hipótese nula, que representa os dados originais.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;H0 Média: </span><span class="si">{</span><span class="n">H0_media</span><span class="si">}</span><span class="s2">, H0 Desvio Padrão: </span><span class="si">{</span><span class="n">H0_desvio_padrao</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Simulando novos dados com um aumento de 3%</span>
<span class="n">dados_novos</span> <span class="o">=</span> <span class="n">dados_originais</span> <span class="o">*</span> <span class="mf">1.03</span>
<span class="n">H1_media</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dados_novos</span><span class="p">)</span>
<span class="n">H1_desvio_padrao</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dados_novos</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;H1 é a hipótese alternativa, que representa os dados com um aumento de 3%.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;H1 Média: </span><span class="si">{</span><span class="n">H1_media</span><span class="si">}</span><span class="s2">, H1 Desvio Padrão: </span><span class="si">{</span><span class="n">H1_desvio_padrao</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>H0 é a hipótese nula, que representa os dados originais.
H0 Média: 159.25, H0 Desvio Padrão: 13.65
H1 é a hipótese alternativa, que representa os dados com um aumento de 3%.
H1 Média: 164.0275, H1 Desvio Padrão: 14.0595
</pre></div>
</div>
</div>
</div>
<section id="teste-de-hipotese-z">
<h2><span class="section-number">7.1. </span>Teste de hipótese Z<a class="headerlink" href="#teste-de-hipotese-z" title="Link para este cabeçalho">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H1_n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dados_novos</span><span class="p">)</span>
<span class="n">Z</span> <span class="o">=</span> <span class="p">(</span><span class="n">H1_media</span> <span class="o">-</span> <span class="n">H0_media</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">H1_desvio_padrao</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">H1_n</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Z: </span><span class="si">{</span><span class="n">Z</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="mf">3.398058252427187</span><span class="p">),</span> <span class="n">norm</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="mf">0.9996606701617486</span><span class="p">))</span>

<span class="n">Z</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Z (valor crítico): </span><span class="si">{</span><span class="n">Z</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>   <span class="c1"># nível de significância</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nível de significância (alpha): </span><span class="si">{</span><span class="n">alpha</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">Z</span>

<span class="k">if</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">alpha</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hipótese nula rejeitada&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hipótese alternativa rejeitada&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Z: 3.398058252427187
0.9996606701617486 3.3980582524271936
Z (valor crítico): 0.9996606701617486
Nível de significância (alpha): 0.05
Hipótese nula rejeitada
</pre></div>
</div>
</div>
</div>
<section id="teste-com-o-statsmodels">
<h3><span class="section-number">7.1.1. </span>Teste com o statsmodels<a class="headerlink" href="#teste-com-o-statsmodels" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">statsmodels.stats.weightstats</span><span class="w"> </span><span class="kn">import</span> <span class="n">ztest</span>
<span class="c1"># Teste de hipótese com statsmodels</span>
<span class="n">z_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">ztest</span><span class="p">(</span><span class="n">dados_originais</span><span class="p">,</span> <span class="n">dados_novos</span><span class="p">,</span>
             <span class="n">value</span> <span class="o">=</span> <span class="n">H1_media</span> <span class="o">-</span> <span class="n">H0_media</span><span class="p">,</span>
             <span class="n">alternative</span><span class="o">=</span><span class="s1">&#39;larger&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor P: </span><span class="si">{</span><span class="n">p_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Valor P: 0.9999993877283934
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="teste-de-hipotese-t">
<h2><span class="section-number">7.2. </span>Teste de hipótese T<a class="headerlink" href="#teste-de-hipotese-t" title="Link para este cabeçalho">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dados_originais</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">149.</span> <span class="p">,</span> <span class="mf">160.</span><span class="p">,</span> <span class="mf">147.</span><span class="p">,</span> <span class="mf">189.</span><span class="p">,</span> <span class="mf">175.</span><span class="p">,</span> <span class="mf">168.</span><span class="p">,</span> <span class="mf">156.</span><span class="p">,</span> <span class="mf">160.</span><span class="p">,</span> <span class="mf">152.</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Média dos Dados Originais: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dados_originais</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Desvio Padrão dos Dados Originais: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dados_originais</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">dados_novos</span> <span class="o">=</span> <span class="n">dados_originais</span> <span class="o">*</span> <span class="mf">1.02</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Média dos Dados Novos: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dados_novos</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Desvio Padrão dos Dados Novos: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dados_novos</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Média dos Dados Originais: 161.77777777777777
Desvio Padrão dos Dados Originais: 12.786953227391823
Média dos Dados Novos: 165.01333333333332
Desvio Padrão dos Dados Novos: 13.042692291939664
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">ttest_rel</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">ttest_rel</span><span class="p">(</span><span class="n">dados_originais</span><span class="p">,</span> <span class="n">dados_novos</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor P do Teste t: </span><span class="si">{</span><span class="n">p_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Valor P do Teste t: 4.072922493930298e-10
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="k">if</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">alpha</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hipótese nula rejeitada&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hipótese alternativa rejeitada&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hipótese nula rejeitada
</pre></div>
</div>
</div>
</div>
</section>
<section id="teste-qui-quadrado">
<h2><span class="section-number">7.3. </span>Teste qui quadrado<a class="headerlink" href="#teste-qui-quadrado" title="Link para este cabeçalho">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">chi2_contingency</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabela</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">22</span><span class="p">,</span> <span class="mi">28</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">tabela</span><span class="p">))</span>

<span class="n">_</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">tabela</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor P do Teste qui-quadrado: </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="k">if</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">alpha</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hipótese nula rejeitada&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hipótese alternativa rejeitada&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Chi2ContingencyResult(statistic=np.float64(1.9631410256410255), pvalue=np.float64(0.16117778944980238), dof=1, expected_freq=array([[26., 24.],
       [26., 24.]]))
Valor P do Teste qui-quadrado: 0.16117778944980238
Hipótese alternativa rejeitada
</pre></div>
</div>
</div>
</div>
</section>
<section id="selecao-de-atributos-com-testes-de-hipoteses-univariate-selectfdr">
<h2><span class="section-number">7.4. </span>Seleção de atributos com testes de hipóteses - univariate SelectFdr<a class="headerlink" href="#selecao-de-atributos-com-testes-de-hipoteses-univariate-selectfdr" title="Link para este cabeçalho">¶</a></h2>
<p>Testes estatísticos univariados são aqueles que envolvem uma variável dependente, por exemplo, teste t ou teste z para comparação de médias</p>
<p>Documentação: <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_selection.SelectFpr.html#sklearn.feature_selection.SelectFpr">https://scikit-learn.org/stable/modules/generated/sklearn.feature_selection.SelectFpr.html#sklearn.feature_selection.SelectFpr</a></p>
<p>False discovery rate: <a class="reference external" href="https://en.wikipedia.org/wiki/False_discovery_rate">https://en.wikipedia.org/wiki/False_discovery_rate</a></p>
<p>Proporção esperada de erros do tipo I. Um erro do tipo I é quando a hipótese nula é rejeitada incorretamente, ou seja, é obtido um falso positivo</p>
<p>Erro I: <a class="reference external" href="https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/statistics-definitions/type-i-error-type-ii-error-decision/">https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/statistics-definitions/type-i-error-type-ii-error-decision/</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">SelectFdr</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">chi2</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/ad.data&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">1558</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1558</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">return_counts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([&#39;ad.&#39;, &#39;nonad.&#39;], dtype=object), array([ 459, 2820]))
</pre></div>
</div>
</div>
</div>
<section id="sem-selecao-de-atributos">
<h3><span class="section-number">7.4.1. </span>Sem seleção de atributos<a class="headerlink" href="#sem-selecao-de-atributos" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">naive1</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">naive1</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">previsoes1</span> <span class="o">=</span> <span class="n">naive1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">previsoes1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7813357731015553
</pre></div>
</div>
</div>
</div>
</section>
<section id="selecao-de-atributos-com-qui-quadrado">
<h3><span class="section-number">7.4.2. </span>Seleção de atributos com Qui Quadrado<a class="headerlink" href="#selecao-de-atributos-com-qui-quadrado" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selecao</span> <span class="o">=</span> <span class="n">SelectFdr</span><span class="p">(</span><span class="n">chi2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="n">X_novo</span> <span class="o">=</span> <span class="n">selecao</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">X_novo</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((3279, 1558), (3279, 433))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selecao</span><span class="o">.</span><span class="n">pvalues_</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">selecao</span><span class="o">.</span><span class="n">pvalues_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([2.14710304e-268, 0.00000000e+000, 8.98165813e-150, ...,
        6.03353380e-041, 5.63437216e-012, 9.37945775e-002], shape=(1558,)),
 1558)
</pre></div>
</div>
</div>
</div>
<p>testar cada valor de p-value</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">selecao</span><span class="o">.</span><span class="n">pvalues_</span> <span class="o">&lt;=</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Número de variáveis com p menor que 0.01: </span><span class="si">{</span><span class="n">num_</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Número de variáveis com p menor que 0.01: 476
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">colunas</span> <span class="o">=</span> <span class="n">selecao</span><span class="o">.</span><span class="n">get_support</span><span class="p">()</span>
<span class="n">colunas</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ True,  True,  True, ...,  True,  True, False], shape=(1558,))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">colunas</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">naive2</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">naive2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_novo</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">previsoes2</span> <span class="o">=</span> <span class="n">naive2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_novo</span><span class="p">)</span>
<span class="n">acc_com_qui2</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">previsoes2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Acurácia com qui-quadrado: </span><span class="si">{</span><span class="n">acc_com_qui2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Acurácia sem qui-quadrado: </span><span class="si">{</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">previsoes1</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Acurácia com qui-quadrado: 0.970722781335773
Acurácia sem qui-quadrado: 0.7813357731015553
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="anova-analise-de-variancia">
<h2><span class="section-number">7.5. </span>ANOVA — Análise de Variância<a class="headerlink" href="#anova-analise-de-variancia" title="Link para este cabeçalho">¶</a></h2>
<p>A <strong>ANOVA</strong> (<em>Analysis of Variance</em>) é um teste estatístico utilizado para comparar <strong>médias entre três ou mais grupos independentes</strong>. Ao invés de realizar múltiplos testes t pareados (o que aumenta o risco de erro tipo I), a ANOVA permite testar, de forma global, se pelo menos um dos grupos difere significativamente dos outros.</p>
<hr class="docutils" />
<section id="quando-usar-anova">
<h3><span class="section-number">7.5.1. </span>Quando usar ANOVA?<a class="headerlink" href="#quando-usar-anova" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p>Quando há <strong>mais de dois grupos</strong> e queremos saber se <strong>existe alguma diferença entre as médias</strong>.</p></li>
<li><p>Exemplo típico: comparar a taxa de conversão de três versões de uma página (A, B e C).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="hipoteses-do-teste-anova">
<h3><span class="section-number">7.5.2. </span>Hipóteses do teste ANOVA<a class="headerlink" href="#hipoteses-do-teste-anova" title="Link para este cabeçalho">¶</a></h3>
<ul>
<li><p><strong>Hipótese nula (H₀)</strong>: todas as médias são iguais.</p>
<blockquote>
<div><p>μ₁ = μ₂ = μ₃ = … = μₖ</p>
</div></blockquote>
</li>
<li><p><strong>Hipótese alternativa (H₁)</strong>: pelo menos uma média é diferente.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="como-funciona">
<h3><span class="section-number">7.5.3. </span>Como funciona<a class="headerlink" href="#como-funciona" title="Link para este cabeçalho">¶</a></h3>
<p>A ANOVA avalia a variação total dos dados e a decompõe em duas partes:</p>
<ul class="simple">
<li><p><strong>Variação entre os grupos</strong> (devido às diferenças entre as médias dos grupos)</p></li>
<li><p><strong>Variação dentro dos grupos</strong> (devido à variabilidade natural dos dados)</p></li>
</ul>
<p>Com base nisso, calcula-se a <strong>estatística F</strong>, que compara essas duas fontes de variação:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
F = \frac{\text{Variância entre os grupos}}{\text{Variância dentro dos grupos}}
\]</div>
</div>
<p>Um valor de <strong>F elevado</strong> sugere que as diferenças entre os grupos são maiores do que seria esperado pelo acaso.</p>
</section>
<hr class="docutils" />
<section id="valor-p-na-anova">
<h3><span class="section-number">7.5.4. </span>Valor p na ANOVA<a class="headerlink" href="#valor-p-na-anova" title="Link para este cabeçalho">¶</a></h3>
<p>Assim como em outros testes de hipótese, o valor p obtido indica a <strong>probabilidade de observar uma estatística F tão extrema quanto a encontrada, assumindo que H₀ é verdadeira</strong>.</p>
<ul class="simple">
<li><p>Se o <strong>valor p &lt; α (ex: 0,05)</strong> → rejeita-se a hipótese nula → pelo menos um grupo tem média diferente.</p></li>
<li><p>Se o <strong>valor p ≥ α</strong> → não há evidência suficiente para afirmar que há diferença entre as médias.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="importante">
<h3><span class="section-number">7.5.5. </span>Importante<a class="headerlink" href="#importante" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p>A ANOVA apenas detecta <strong>se há diferença</strong>, mas <strong>não informa quais grupos diferem entre si</strong>.</p></li>
<li><p>Para isso, utiliza-se um <strong>teste post hoc</strong>, como <strong>Tukey</strong> ou <strong>Bonferroni</strong>, que faz comparações múltiplas controlando o erro tipo I.</p></li>
</ul>
<hr class="docutils" />
<p>A ANOVA é uma ferramenta essencial quando lidamos com experimentos envolvendo múltiplos grupos, pois oferece uma maneira estatisticamente robusta de investigar diferenças nas médias com controle adequado do risco de falsos positivos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grupo_a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">165</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">155</span><span class="p">])</span>
<span class="n">grupo_b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">130</span><span class="p">,</span> <span class="mi">169</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="mi">154</span><span class="p">])</span>
<span class="n">grupo_c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">163</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span> <span class="mi">156</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">f</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Teste F para comparar as variâncias dos grupos</span>
<span class="n">f</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">0.05</span><span class="p">,</span> <span class="n">dfn</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dfd</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(3.8852938346523946)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">f_oneway</span>
<span class="c1"># Teste ANOVA para comparar as médias dos grupos</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">f_oneway</span><span class="p">(</span><span class="n">grupo_a</span><span class="p">,</span> <span class="n">grupo_b</span><span class="p">,</span> <span class="n">grupo_c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor P do Teste ANOVA: </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Valor P do Teste ANOVA: 0.7613994386091956
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="k">if</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">alpha</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hipótese nula rejeitada&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hipótese alternativa rejeitada&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hipótese alternativa rejeitada
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="teste-de-tukey-hsd-honest-significant-difference">
<h2><span class="section-number">7.6. </span>Teste de Tukey (HSD – Honest Significant Difference)<a class="headerlink" href="#teste-de-tukey-hsd-honest-significant-difference" title="Link para este cabeçalho">¶</a></h2>
<p>O <strong>Teste de Tukey</strong>, também conhecido como <strong>Tukey HSD (Honest Significant Difference)</strong>, é um teste <strong>post hoc</strong> utilizado após uma <strong>ANOVA</strong> quando encontramos uma diferença significativa entre os grupos.</p>
<p>Enquanto a ANOVA nos diz <strong>se existe alguma diferença</strong> entre as médias, ela <strong>não informa quais grupos diferem entre si</strong>. É aí que entra o teste de Tukey: ele realiza <strong>comparações múltiplas pareadas</strong> entre os grupos para identificar exatamente <strong>quais pares de médias</strong> são significativamente diferentes.</p>
<hr class="docutils" />
<section id="objetivo">
<h3><span class="section-number">7.6.1. </span>Objetivo<a class="headerlink" href="#objetivo" title="Link para este cabeçalho">¶</a></h3>
<p>Identificar <strong>quais grupos específicos possuem médias significativamente diferentes</strong>, controlando o <strong>erro do tipo I</strong> que surgiria se fizéssemos diversos testes t independentes.</p>
</section>
<hr class="docutils" />
<section id="id1">
<h3><span class="section-number">7.6.2. </span>Como funciona<a class="headerlink" href="#id1" title="Link para este cabeçalho">¶</a></h3>
<p>O teste calcula uma <strong>diferença mínima significativa</strong> entre as médias dos grupos com base em:</p>
<ul class="simple">
<li><p>A variabilidade dos dados (variância dentro dos grupos)</p></li>
<li><p>O número de comparações</p></li>
<li><p>O tamanho das amostras</p></li>
</ul>
<p>Se a diferença entre dois grupos for maior do que essa diferença crítica, consideramos que há <strong>diferença estatisticamente significativa</strong> entre eles.</p>
</section>
<hr class="docutils" />
<section id="quando-usar">
<h3><span class="section-number">7.6.3. </span>Quando usar<a class="headerlink" href="#quando-usar" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p>Após uma ANOVA com resultado significativo (valor p &lt; α)</p></li>
<li><p>Quando há <strong>três ou mais grupos</strong> sendo comparados</p></li>
<li><p>Quando os grupos têm tamanhos iguais ou aproximadamente iguais</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="exemplo-pratico">
<h3><span class="section-number">7.6.4. </span>Exemplo prático<a class="headerlink" href="#exemplo-pratico" title="Link para este cabeçalho">¶</a></h3>
<p>Suponha que um teste ANOVA com três versões de uma campanha de marketing (A, B e C) resultou em <strong>p &lt; 0,01</strong>. Com o teste de Tukey, podemos descobrir se:</p>
<ul class="simple">
<li><p>A difere de B</p></li>
<li><p>A difere de C</p></li>
<li><p>B difere de C</p></li>
</ul>
<p>E em quais dessas comparações há diferença estatística real.</p>
<hr class="docutils" />
<p>O Teste de Tukey é uma ferramenta essencial para análises mais aprofundadas após uma ANOVA, garantindo interpretações precisas e evitando conclusões enganosas com múltiplas comparações.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dados</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;valores&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">169</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">163</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span> <span class="mi">156</span><span class="p">],</span>
         <span class="s1">&#39;grupo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]}</span>
</pre></div>
</div>
</div>
</div>
<p>A hipótese alternativa é que há diferença estatística siginificativa de um grupo com outro</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="n">dados_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dados</span><span class="p">)</span>
<span class="n">dados_pd</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>valores</th>
      <th>grupo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>70</td>
      <td>A</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90</td>
      <td>A</td>
    </tr>
    <tr>
      <th>2</th>
      <td>80</td>
      <td>A</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50</td>
      <td>A</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20</td>
      <td>A</td>
    </tr>
    <tr>
      <th>5</th>
      <td>130</td>
      <td>B</td>
    </tr>
    <tr>
      <th>6</th>
      <td>169</td>
      <td>B</td>
    </tr>
    <tr>
      <th>7</th>
      <td>164</td>
      <td>B</td>
    </tr>
    <tr>
      <th>8</th>
      <td>143</td>
      <td>B</td>
    </tr>
    <tr>
      <th>9</th>
      <td>154</td>
      <td>B</td>
    </tr>
    <tr>
      <th>10</th>
      <td>163</td>
      <td>C</td>
    </tr>
    <tr>
      <th>11</th>
      <td>158</td>
      <td>C</td>
    </tr>
    <tr>
      <th>12</th>
      <td>154</td>
      <td>C</td>
    </tr>
    <tr>
      <th>13</th>
      <td>149</td>
      <td>C</td>
    </tr>
    <tr>
      <th>14</th>
      <td>156</td>
      <td>C</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">statsmodels.stats.multicomp</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultiComparison</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compara_grupos</span> <span class="o">=</span> <span class="n">MultiComparison</span><span class="p">(</span><span class="n">dados_pd</span><span class="p">[</span><span class="s1">&#39;valores&#39;</span><span class="p">],</span> <span class="n">dados_pd</span><span class="p">[</span><span class="s1">&#39;grupo&#39;</span><span class="p">])</span>
<span class="n">teste</span> <span class="o">=</span> <span class="n">compara_grupos</span><span class="o">.</span><span class="n">tukeyhsd</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">teste</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> Multiple Comparison of Means - Tukey HSD, FWER=0.05  
======================================================
group1 group2 meandiff p-adj   lower    upper   reject
------------------------------------------------------
     A      B     90.0    0.0  58.4785 121.5215   True
     A      C     94.0    0.0  62.4785 125.5215   True
     B      C      4.0 0.9391 -27.5215  35.5215  False
------------------------------------------------------
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">teste</span><span class="o">.</span><span class="n">plot_simultaneous</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/6346f2d8728e29868c5215b40fa54c765e993c377c7bd6d615bfa44b5e95941d.png" src="../_images/6346f2d8728e29868c5215b40fa54c765e993c377c7bd6d615bfa44b5e95941d.png" />
</div>
</div>
</section>
<section id="selecao-de-atributos-com-anova">
<h3><span class="section-number">7.6.5. </span>Seleção de atributos com ANOVA<a class="headerlink" href="#selecao-de-atributos-com-anova" title="Link para este cabeçalho">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">SelectFdr</span><span class="p">,</span> <span class="n">f_classif</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selecao</span> <span class="o">=</span> <span class="n">SelectFdr</span><span class="p">(</span><span class="n">f_classif</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="n">X_novo_2</span> <span class="o">=</span> <span class="n">selecao</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">X_novo</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">X_novo_2</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((3279, 1558), (3279, 433), (3279, 433))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">selecao</span><span class="o">.</span><span class="n">pvalues_</span> <span class="o">&lt;</span> <span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.int64(476)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">naive3</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">naive3</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_novo_2</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">previsoes3</span> <span class="o">=</span> <span class="n">naive3</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_novo_2</span><span class="p">)</span>
<span class="n">accuracy_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">previsoes3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.970722781335773
</pre></div>
</div>
</div>
</div>
<p>Provavelemente retornou os mesmo atributos do SelectFdr com chi2, mas com uma abordagem diferente de teste estatístico.</p>
</section>
<section id="teste-de-hipotese-de-shapiro-wilk">
<h3><span class="section-number">7.6.6. </span>Teste de hipótese de Shapiro-Wilk<a class="headerlink" href="#teste-de-hipotese-de-shapiro-wilk" title="Link para este cabeçalho">¶</a></h3>
<p>O <strong>teste de Shapiro-Wilk</strong> é um dos métodos mais usados para verificar se uma amostra de dados segue uma <strong>distribuição normal</strong>. Ele é especialmente indicado para <strong>amostras pequenas ou moderadas</strong> (n &lt; 50, mas aplicável até n ≈ 2000) e é amplamente utilizado em análises estatísticas e experimentos científicos como um pré-requisito para testes paramétricos, como <strong>teste t</strong> ou <strong>ANOVA</strong>.</p>
<ul class="simple">
<li><p><strong>Hipótese nula (H₀)</strong>: os dados seguem uma distribuição normal.</p></li>
<li><p><strong>Hipótese alternativa (H₁)</strong>: os dados <strong>não</strong> seguem uma distribuição normal.</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Shapiro%E2%80%93Wilk_test">https://en.wikipedia.org/wiki/Shapiro–Wilk_test</a></p></li>
</ul>
<p>Imagine que, ao invés de treinar e testar o modelo uma única vez, decidimos repetir esse processo <strong>30 vezes</strong>, cada vez com uma <strong>nova divisão dos dados</strong> entre treino e teste. E em cada uma dessas vezes:</p>
<ul class="simple">
<li><p>Dividimos os dados em <strong>10 partes (folds)</strong>;</p></li>
<li><p>Usamos <strong>9 partes para treino</strong> e <strong>1 para teste</strong>, repetindo isso 10 vezes internamente (validação cruzada);</p></li>
<li><p>Calculamos a <strong>acurácia média</strong> dessas 10 rodadas;</p></li>
<li><p>Armazenamos essa média em um vetor.</p></li>
</ul>
<p>Ao final, temos um vetor com <strong>30 valores de acurácia média</strong>, um para cada execução da validação cruzada com divisão diferente dos dados. Esse vetor é o que chamamos de <code class="docutils literal notranslate"><span class="pre">resultados_naive_cv</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Retomando o código de classificação com validação cruzada</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">cross_val_score</span><span class="p">,</span> <span class="n">KFold</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/credit_data.csv&#39;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="nb">min</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="nb">min</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">resultados_naive_cv</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">resultados_logistica_cv</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">resultados_forest_cv</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
  <span class="n">kfold</span> <span class="o">=</span> <span class="n">KFold</span><span class="p">(</span><span class="n">n_splits</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">shuffle</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">random_state</span> <span class="o">=</span> <span class="n">i</span><span class="p">)</span>

  <span class="n">naive_bayes</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
  <span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">naive_bayes</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span> <span class="o">=</span> <span class="n">kfold</span><span class="p">)</span>
  <span class="n">resultados_naive_cv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

  <span class="n">logistica</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">()</span>
  <span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">logistica</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span> <span class="o">=</span> <span class="n">kfold</span><span class="p">)</span>
  <span class="n">resultados_logistica_cv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

  <span class="n">random_forest</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">()</span>
  <span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">random_forest</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span> <span class="o">=</span> <span class="n">kfold</span><span class="p">)</span>
  <span class="n">resultados_forest_cv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="n">resultados_naive_cv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">resultados_naive_cv</span><span class="p">)</span>
<span class="n">resultados_logistica_cv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">)</span>
<span class="n">resultados_forest_cv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="p">)</span>

<span class="n">resultados_naive_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">resultados_logistica_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">resultados_forest_cv</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(np.float64(0.9249859296482411),
 np.float64(0.9456840871021776),
 np.float64(0.9865972361809043))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">shapiro</span>
<span class="n">shapiro</span><span class="p">(</span><span class="n">resultados_naive_cv</span><span class="p">),</span> <span class="n">shapiro</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">),</span> <span class="n">shapiro</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(ShapiroResult(statistic=np.float64(0.9646666277541406), pvalue=np.float64(0.4051707299447918)),
 ShapiroResult(statistic=np.float64(0.9471798541563068), pvalue=np.float64(0.14200818948014182)),
 ShapiroResult(statistic=np.float64(0.9653776883637821), pvalue=np.float64(0.42154217887978246)))
</pre></div>
</div>
</div>
</div>
<p>Os resultados obtidos foram:</p>
<p>Naive Bayes: statistic = 0.9647, p-value = 0.4052</p>
<p>Logística: statistic = 0.9472, p-value = 0.1420</p>
<p>Random Forest: statistic = 0.9507, p-value = 0.1769</p>
<p>Com um nível de significância <span class="math notranslate nohighlight">\(\alpha = 0{,}05\)</span>, interpretamos os p-valores da seguinte forma:</p>
<p>Todos os p-valores são maiores que 0,05, portanto não há evidência suficiente para rejeitar a hipótese nula de que os dados seguem uma distribuição normal.</p>
<p>Isso significa que, segundo o teste de Shapiro-Wilk, os valores médios de acurácia obtidos em cada repetição de validação cruzada para os três modelos podem ser considerados normalmente distribuídos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">resultados_naive_cv</span><span class="p">);</span>

<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">);</span>

<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\lucas.souza\AppData\Local\Temp\ipykernel_15448\3068692970.py:2: UserWarning: 

`distplot` is a deprecated function and will be removed in seaborn v0.14.0.

Please adapt your code to use either `displot` (a figure-level function with
similar flexibility) or `histplot` (an axes-level function for histograms).

For a guide to updating your code to use the new functions, please see
https://gist.github.com/mwaskom/de44147ed2974457ad6372750bbe5751

  sns.distplot(resultados_naive_cv);
c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
C:\Users\lucas.souza\AppData\Local\Temp\ipykernel_15448\3068692970.py:4: UserWarning: 

`distplot` is a deprecated function and will be removed in seaborn v0.14.0.

Please adapt your code to use either `displot` (a figure-level function with
similar flexibility) or `histplot` (an axes-level function for histograms).

For a guide to updating your code to use the new functions, please see
https://gist.github.com/mwaskom/de44147ed2974457ad6372750bbe5751

  sns.distplot(resultados_logistica_cv);
c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
C:\Users\lucas.souza\AppData\Local\Temp\ipykernel_15448\3068692970.py:6: UserWarning: 

`distplot` is a deprecated function and will be removed in seaborn v0.14.0.

Please adapt your code to use either `displot` (a figure-level function with
similar flexibility) or `histplot` (an axes-level function for histograms).

For a guide to updating your code to use the new functions, please see
https://gist.github.com/mwaskom/de44147ed2974457ad6372750bbe5751

  sns.distplot(resultados_forest_cv);
c:\Users\lucas.souza\AppData\Local\anaconda3\Lib\site-packages\seaborn\_oldcore.py:1119: FutureWarning: use_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.
  with pd.option_context(&#39;mode.use_inf_as_na&#39;, True):
</pre></div>
</div>
<img alt="../_images/bc820d56ce127c0a31dc02810d5d054741987dc759209596326d4fbfd259f805.png" src="../_images/bc820d56ce127c0a31dc02810d5d054741987dc759209596326d4fbfd259f805.png" />
</div>
</div>
</section>
</section>
<section id="teste-de-hipotese-de-d-agostinho-k2">
<h2><span class="section-number">7.7. </span>Teste de hipótese de D’Agostinho K²<a class="headerlink" href="#teste-de-hipotese-de-d-agostinho-k2" title="Link para este cabeçalho">¶</a></h2>
<p>Além do teste de Shapiro-Wilk, outra abordagem comum para verificar se uma amostra segue uma distribuição normal é o <strong>teste de normalidade de D’Agostino e Pearson</strong>, acessado via <code class="docutils literal notranslate"><span class="pre">scipy.stats.normaltest</span></code>. Ele combina medidas de assimetria (skewness) e curtose para testar a hipótese de que a amostra provém de uma distribuição normal.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/D%27Agostino%27s_K-squared_test">https://en.wikipedia.org/wiki/D’Agostino’s_K-squared_test</a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">normaltest</span>
<span class="n">normaltest</span><span class="p">(</span><span class="n">resultados_naive_cv</span><span class="p">),</span> <span class="n">normaltest</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">),</span> <span class="n">normaltest</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(NormaltestResult(statistic=np.float64(0.8391668731677201), pvalue=np.float64(0.6573205784978502)),
 NormaltestResult(statistic=np.float64(3.451262283252913), pvalue=np.float64(0.1780606348224519)),
 NormaltestResult(statistic=np.float64(1.3839744728483154), pvalue=np.float64(0.5005803085655869)))
</pre></div>
</div>
</div>
</div>
<p>Os resultados (estatística de teste e p-valor) foram:</p>
<p>Naive Bayes:
statistic = 0.839, p-value = 0.657</p>
<p>Logística:
statistic = 3.451, p-value = 0.178</p>
<p>Random Forest:
statistic = 3.570, p-value = 0.167</p>
<p>Com um nível de significância de α = 0,05, interpretamos:</p>
<p>Os p-valores são todos maiores que 0,05, portanto não rejeitamos a hipótese nula de normalidade.</p>
<p>Isso indica que, de acordo com o teste de D’Agostino e Pearson, os resultados médios de acurácia para os três modelos podem ser considerados normalmente distribuídos.</p>
<p>Essa verificação fortalece a suposição de normalidade dos dados, permitindo o uso de testes paramétricos como o teste t ou a ANOVA para comparar o desempenho entre modelos de forma estatisticamente rigorosa.</p>
</section>
<section id="teste-de-hipotese-de-anderson-darling">
<h2><span class="section-number">7.8. </span>Teste de hipótese de Anderson-Darling<a class="headerlink" href="#teste-de-hipotese-de-anderson-darling" title="Link para este cabeçalho">¶</a></h2>
<p>O <strong>teste de Anderson-Darling</strong> é outro método estatístico usado para verificar se uma amostra segue uma determinada distribuição — neste caso, <strong>a normal</strong>. É considerado mais sensível que o teste de Shapiro-Wilk, especialmente para detectar desvios nas caudas da distribuição.</p>
<p>Este teste retorna um valor estatístico (<code class="docutils literal notranslate"><span class="pre">statistic</span></code>) que deve ser comparado com <strong>valores críticos associados a diferentes níveis de significância (α)</strong>. Esses valores são fornecidos pelo próprio resultado do <code class="docutils literal notranslate"><span class="pre">anderson()</span></code>.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Anderson%E2%80%93Darling_test">https://en.wikipedia.org/wiki/Anderson–Darling_test</a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">anderson</span>
<span class="n">anderson</span><span class="p">(</span><span class="n">resultados_naive_cv</span><span class="p">)</span><span class="o">.</span><span class="n">statistic</span><span class="p">,</span> <span class="n">anderson</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">)</span><span class="o">.</span><span class="n">statistic</span><span class="p">,</span> <span class="n">anderson</span><span class="p">(</span><span class="n">resultados_forest_cv</span><span class="p">)</span><span class="o">.</span><span class="n">statistic</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(np.float64(0.5456346672421084),
 np.float64(0.6415811877848903),
 np.float64(0.4225943966628023))
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="teste-de-wilcoxon-signed-rank">
<h2><span class="section-number">7.9. </span>Teste de Wilcoxon Signed-Rank<a class="headerlink" href="#teste-de-wilcoxon-signed-rank" title="Link para este cabeçalho">¶</a></h2>
<p>O <strong>teste de Wilcoxon Signed-Rank</strong> é um <strong>teste não paramétrico</strong> usado para <strong>comparar dois conjuntos de dados emparelhados</strong>, como os resultados de dois modelos aplicados à mesma base de dados. Ele é a alternativa ao <strong>teste t pareado</strong> quando os dados <strong>não seguem uma distribuição normal</strong>.</p>
<hr class="docutils" />
<section id="id2">
<h3><span class="section-number">7.9.1. </span>Quando usar<a class="headerlink" href="#id2" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p>Quando você quer comparar o desempenho de <strong>dois modelos diferentes</strong>, como suas acurácias em várias execuções, <strong>com os mesmos conjuntos de dados</strong>.</p></li>
<li><p>Quando os <strong>valores são emparelhados</strong> (ex: mesma amostra ou mesma rodada de validação cruzada).</p></li>
<li><p>Quando os <strong>dados não são normalmente distribuídos</strong> (violando o pressuposto do teste t pareado).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="hipoteses-do-teste">
<h3><span class="section-number">7.9.2. </span>Hipóteses do teste<a class="headerlink" href="#hipoteses-do-teste" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p><strong>Hipótese nula (H₀)</strong>: a <strong>mediana das diferenças</strong> entre os pares é zero (ou seja, <strong>não há diferença</strong> entre os métodos).</p></li>
<li><p><strong>Hipótese alternativa (H₁)</strong>: a mediana das diferenças <strong>é diferente de zero</strong> (há diferença entre os métodos).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id3">
<h3><span class="section-number">7.9.3. </span>Como funciona<a class="headerlink" href="#id3" title="Link para este cabeçalho">¶</a></h3>
<ol class="arabic simple">
<li><p>Calcula-se a diferença entre os pares de observações.</p></li>
<li><p>Ignora-se o sinal e ordena-se as diferenças por magnitude.</p></li>
<li><p>Atribuem-se ranks e somam-se separadamente os ranks dos valores positivos e negativos.</p></li>
<li><p>Com isso, calcula-se uma <strong>estatística W</strong>, que é usada para obter o <strong>valor p</strong>.</p></li>
</ol>
<p>Exemplo prático (comparando dois modelos)</p>
<p>Imagine que você fez 30 execuções de validação cruzada com dois modelos (por exemplo, Naive Bayes e Regressão Logística). Você obteve duas listas:</p>
<p>resultados_naive_cv = [0.81, 0.79, 0.83, …, 0.80]</p>
<p>resultados_logistica_cv = [0.82, 0.77, 0.84, …, 0.79]</p>
<p>Esses vetores têm 30 valores cada, e cada elemento em resultados_naive_cv[i] corresponde à mesma rodada de validação que resultados_logistica_cv[i].</p>
<p>Isso forma um par de observações para cada i.</p>
<p>Para cada par de valores i, o teste calcula:</p>
<p>diferença[i] = resultados_naive_cv[i] - resultados_logistica_cv[i]</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">wilcoxon</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">wilcoxon</span><span class="p">(</span><span class="n">resultados_naive_cv</span><span class="p">,</span> <span class="n">resultados_logistica_cv</span><span class="p">)</span>
<span class="n">p</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(1.862645149230957e-09)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">wilcoxon</span><span class="p">(</span><span class="n">resultados_naive_cv</span><span class="p">,</span> <span class="n">resultados_forest_cv</span><span class="p">)</span>
<span class="n">p</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(1.862645149230957e-09)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">wilcoxon</span><span class="p">(</span><span class="n">resultados_logistica_cv</span><span class="p">,</span> <span class="n">resultados_forest_cv</span><span class="p">)</span>
<span class="n">p</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(1.862645149230957e-09)
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="teste-de-friedman">
<h3><span class="section-number">7.9.4. </span>Teste de Friedman<a class="headerlink" href="#teste-de-friedman" title="Link para este cabeçalho">¶</a></h3>
<p>O <strong>teste de Friedman</strong> é um <strong>teste estatístico não paramétrico</strong> utilizado para <strong>comparar três ou mais métodos ou tratamentos relacionados</strong>, quando os pressupostos do teste ANOVA de medidas repetidas <strong>não são atendidos</strong> — por exemplo, quando os dados <strong>não seguem uma distribuição normal</strong>.</p>
</section>
<hr class="docutils" />
<section id="id4">
<h3><span class="section-number">7.9.5. </span>Quando usar<a class="headerlink" href="#id4" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p>Quando você quer comparar <strong>três ou mais modelos</strong> (ex: Naive Bayes, Regressão Logística e Random Forest),</p></li>
<li><p>E os modelos foram avaliados <strong>sob as mesmas condições</strong> (ex: mesma divisão de dados em validação cruzada),</p></li>
<li><p>Mas os dados <strong>não são normalmente distribuídos</strong> (o que inviabilizaria o uso da ANOVA).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id5">
<h3><span class="section-number">7.9.6. </span>Hipóteses do teste<a class="headerlink" href="#id5" title="Link para este cabeçalho">¶</a></h3>
<ul class="simple">
<li><p><strong>Hipótese nula (H₀)</strong>: todos os modelos têm <strong>desempenho equivalente</strong> (as medianas são iguais).</p></li>
<li><p><strong>Hipótese alternativa (H₁)</strong>: pelo menos um modelo <strong>tem desempenho diferente</strong> dos outros.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id6">
<h3><span class="section-number">7.9.7. </span>Como funciona<a class="headerlink" href="#id6" title="Link para este cabeçalho">¶</a></h3>
<ol class="arabic simple">
<li><p>Para cada execução (ex: uma rodada de validação cruzada), os modelos são <strong>ranqueados</strong>:</p>
<ul class="simple">
<li><p>O melhor modelo recebe rank 1, o segundo melhor rank 2, e assim por diante.</p></li>
</ul>
</li>
<li><p>O teste calcula a <strong>soma dos ranks</strong> de cada modelo ao longo das execuções.</p></li>
<li><p>Com base nisso, calcula-se uma <strong>estatística de teste</strong> que indica se há diferença significativa entre os modelos.</p></li>
</ol>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">friedmanchisquare</span>

<span class="n">friedmanchisquare</span><span class="p">(</span><span class="n">resultados_naive_cv</span><span class="p">,</span> <span class="n">resultados_logistica_cv</span><span class="p">,</span> <span class="n">resultados_forest_cv</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FriedmanchisquareResult(statistic=np.float64(60.0), pvalue=np.float64(9.357622968840163e-14))
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks_estatistica"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../notebooks/ML_intro.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">8. </span>Fundamentos de Machine Learning</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="Distribuicoes_de_Dados.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">4. </span>Distribuições de Dados</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; L. A. Souza, 2025
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">5. Testes de Hipóteses e Inferência Estatística</a><ul>
<li><a class="reference internal" href="#a-cadeia-classica-da-inferencia-estatistica">5.1. A Cadeia Clássica da Inferência Estatística</a></li>
<li><a class="reference internal" href="#intervalos-de-confianca-e-testes-de-hipoteses">5.2. Intervalos de Confiança e Testes de Hipóteses</a></li>
<li><a class="reference internal" href="#intervalo-de-confianca">5.3. Intervalo de Confiança</a><ul>
<li><a class="reference internal" href="#ic-para-a-media-conhecido-distribuicao-normal">5.3.1. IC para a Média (σ conhecido, distribuição Normal)</a></li>
<li><a class="reference internal" href="#calculo-manual-do-intervalo-de-confianca">5.3.2. Cálculo manual do Intervalo de Confiança</a></li>
<li><a class="reference internal" href="#calculo-do-intervalo-de-confianca-com-scipy">5.3.3. Cálculo do intervalo de confiança com Scipy</a></li>
<li><a class="reference internal" href="#diferentes-niveis-de-confianca">5.3.4. Diferentes níveis de confiança</a></li>
<li><a class="reference internal" href="#exercicio">5.3.5. Exercicio</a></li>
</ul>
</li>
<li><a class="reference internal" href="#intervalos-de-confianca-com-distribuicao-t-student">5.4. Intervalos de confiança com Distribuição T Student</a><ul>
<li><a class="reference internal" href="#ic-para-a-media-desconhecido-distribuicao-t-student">5.4.1. IC para a Média (σ desconhecido, Distribuição T Student)</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#intervalos-de-confianca-e-classificacao">6. Intervalos de Confiança e Classificação</a><ul>
<li><a class="reference internal" href="#intervalos-de-confianca-para-distribuicoes-normal-e-t">6.1. Intervalos de confiança para distribuições normal e T</a><ul>
<li><a class="reference internal" href="#neive-bayes">6.1.1. Neïve Bayes</a></li>
<li><a class="reference internal" href="#regressao-logistica">6.1.2. Regressão Logística</a></li>
<li><a class="reference internal" href="#random-forest">6.1.3. Random Forest</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#teste-de-hipotese">7. Teste de Hipótese</a><ul>
<li><a class="reference internal" href="#teste-de-hipotese-z">7.1. Teste de hipótese Z</a><ul>
<li><a class="reference internal" href="#teste-com-o-statsmodels">7.1.1. Teste com o statsmodels</a></li>
</ul>
</li>
<li><a class="reference internal" href="#teste-de-hipotese-t">7.2. Teste de hipótese T</a></li>
<li><a class="reference internal" href="#teste-qui-quadrado">7.3. Teste qui quadrado</a></li>
<li><a class="reference internal" href="#selecao-de-atributos-com-testes-de-hipoteses-univariate-selectfdr">7.4. Seleção de atributos com testes de hipóteses - univariate SelectFdr</a><ul>
<li><a class="reference internal" href="#sem-selecao-de-atributos">7.4.1. Sem seleção de atributos</a></li>
<li><a class="reference internal" href="#selecao-de-atributos-com-qui-quadrado">7.4.2. Seleção de atributos com Qui Quadrado</a></li>
</ul>
</li>
<li><a class="reference internal" href="#anova-analise-de-variancia">7.5. ANOVA — Análise de Variância</a><ul>
<li><a class="reference internal" href="#quando-usar-anova">7.5.1. Quando usar ANOVA?</a></li>
<li><a class="reference internal" href="#hipoteses-do-teste-anova">7.5.2. Hipóteses do teste ANOVA</a></li>
<li><a class="reference internal" href="#como-funciona">7.5.3. Como funciona</a></li>
<li><a class="reference internal" href="#valor-p-na-anova">7.5.4. Valor p na ANOVA</a></li>
<li><a class="reference internal" href="#importante">7.5.5. Importante</a></li>
</ul>
</li>
<li><a class="reference internal" href="#teste-de-tukey-hsd-honest-significant-difference">7.6. Teste de Tukey (HSD – Honest Significant Difference)</a><ul>
<li><a class="reference internal" href="#objetivo">7.6.1. Objetivo</a></li>
<li><a class="reference internal" href="#id1">7.6.2. Como funciona</a></li>
<li><a class="reference internal" href="#quando-usar">7.6.3. Quando usar</a></li>
<li><a class="reference internal" href="#exemplo-pratico">7.6.4. Exemplo prático</a></li>
<li><a class="reference internal" href="#selecao-de-atributos-com-anova">7.6.5. Seleção de atributos com ANOVA</a></li>
<li><a class="reference internal" href="#teste-de-hipotese-de-shapiro-wilk">7.6.6. Teste de hipótese de Shapiro-Wilk</a></li>
</ul>
</li>
<li><a class="reference internal" href="#teste-de-hipotese-de-d-agostinho-k2">7.7. Teste de hipótese de D’Agostinho K²</a></li>
<li><a class="reference internal" href="#teste-de-hipotese-de-anderson-darling">7.8. Teste de hipótese de Anderson-Darling</a></li>
<li><a class="reference internal" href="#teste-de-wilcoxon-signed-rank">7.9. Teste de Wilcoxon Signed-Rank</a><ul>
<li><a class="reference internal" href="#id2">7.9.1. Quando usar</a></li>
<li><a class="reference internal" href="#hipoteses-do-teste">7.9.2. Hipóteses do teste</a></li>
<li><a class="reference internal" href="#id3">7.9.3. Como funciona</a></li>
<li><a class="reference internal" href="#teste-de-friedman">7.9.4. Teste de Friedman</a></li>
<li><a class="reference internal" href="#id4">7.9.5. Quando usar</a></li>
<li><a class="reference internal" href="#id5">7.9.6. Hipóteses do teste</a></li>
<li><a class="reference internal" href="#id6">7.9.7. Como funciona</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=2efa9f5e"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/translations.js?v=daa5921a"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>